# Радио Виктория

Оптимизированное приложение для радиостанции "Радио Виктория" с улучшенной архитектурой и функциональностью.

## Описание

Это современное приложение для радиостанции "Радио Виктория" с улучшенной архитектурой, использующее:
- Чистую архитектуру с разделением на слои (модели, сервисы, провайдеры, виджеты)
- State management с помощью Provider
- Кэширование данных
- Оптимизированные анимации
- Улучшенную обработку ошибок

## Основные функции

1. **Воспроизведение радио**
   - Онлайн-стриминг с сервера SakhaFM
   - Кнопка воспроизведения/паузы
   - Индикатор загрузки
   - Визуализация аудио

2. **Погода**
   - Автоматическое обновление каждые 15 минут
   - Кэширование данных на 10 минут
   - Поддержка двух провайдеров (OpenWeather и Open-Meteo)
   - Анимированные иконки погоды

3. **Гороскоп**
   - Прогнозы для всех 12 знаков зодиака
   - Кэширование данных на 1 час
   - Интерактивный выбор знака зодиака

4. **Темы**
   - Поддержка светлой и темной темы
   - Сохранение настроек темы

5. **Таймер сна**
   - Возможность установки таймера на 15/30/60 минут
   - Автоматическая остановка воспроизведения

## Архитектура

### Структура проекта

```
lib/
├── main.dart                 # Точка входа приложения
├── models/                    # Модели данных
│   └── weather_data.dart     # Модель данных о погоде
├── services/                 # Сервисы для работы с API
│   ├── weather_service.dart  # Сервис погоды
│   └── horoscope_service.dart # Сервис гороскопа
├── providers/                # Провайдеры состояния
│   ├── audio_provider.dart    # Управление аудио
│   ├── theme_provider.dart   # Управление темой
│   ├── weather_provider.dart # Управление погодой
│   └── horoscope_provider.dart # Управление гороскопом
├── widgets/                  # Переиспользуемые виджеты
│   ├── audio_visualizer.dart # Визуализация аудио
│   ├── weather_widget.dart # Виджет погоды
│   └── horoscope_widget.dart # Виджет гороскопа
└── screens/                 # Экраны приложения
    ├── splash_screen.dart   # Заставка
    ├── main_screen.dart     # Главный экран
    └── settings_screen.dart   # Настройки
```

### Основные компоненты

1. **Models** - Модели данных, представляющие структуру информации
2. **Services** - Сервисы для работы с внешними API
3. **Providers** - Провайдеры состояния с использованием ChangeNotifier
4. **Widgets** - Переиспользуемые UI компоненты
5. **Screens** - Экраны приложения

## Оптимизации

1. **Кэширование**
   - Погода кэшируется на 10 минут
   - Гороскоп кэшируется на 1 час
   - Уменьшено количество сетевых запросов

2. **Архитектура**
   - Четкое разделение ответственности
   - Переиспользуемые компоненты
   - Управляемое состояние

3. **Производительность**
   - Оптимизированные анимации
   - Эффективное использование памяти
   - Минимизация перерисовок

4. **Обработка ошибок**
   - Улучшенная обработка сетевых ошибок
   - Таймауты для запросов
   - Пользовательские сообщения об ошибках

## Установка

1. Установите Flutter SDK
2. Клонируйте репозиторий
3. Выполните `flutter pub get`
4. Запустите приложение с помощью `flutter run`

## Создание иконки приложения

Для создания иконки приложения выполните следующие шаги:

1. Создайте иконку приложения в формате PNG размером 1024x1024 пикселей
2. Сохраните иконку в файл `assets/icons/app_icon.png`
3. Запустите команду для генерации иконок для всех платформ:

```bash
flutter pub get
dart run flutter_launcher_icons
```

Примечание: В директории assets/icons уже есть файл app_icon.svg, который можно использовать в качестве основы для создания PNG-иконки.

Иконки для приложения были успешно сгенерированы и теперь доступны для всех платформ (Android, iOS, Web, Windows).

## Зависимости

- `flutter` - Основной фреймворк
- `provider` - Управление состоянием
- `just_audio` - Воспроизведение аудио
- `flutter_spinkit` - Анимированные индикаторы загрузки
- `intl` - Локализация
- `http` - HTTP клиент
- `shared_preferences` - Локальное хранение данных
- `html` - Парсинг HTML

## Рекомендации по дальнейшему улучшению

1. Добавить unit и widget тесты
2. Реализовать background playback для аудио
3. Добавить push-уведомления
4. Расширить функционал настроек
5. Добавить поддержку нескольких языков
6. Реализовать offline режим для закэшированных данных
